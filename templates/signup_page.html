{% extends 'base.html' %}

{% block content %}

<div class="container">
    {% if message %}
        {{message}}
    {% endif %}
    <h2>Sign Up</h2>
    <form method="post" id="signupForm">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" name="name" id="id_username" required>
        </div>
        <div class="form-group">
            <label for="id_username">Username</label>
            <input type="text" name="username" id="id_username" required>
        </div>
        <div class="form-group">
            <label for="id_email">Email</label>
            <input type="email" name="email" id="id_email" required>
        </div>
        <div class="form-group">
            <label for="id_password1">Password</label>
            <input type="password" name="password1" id="id_password1" required>
        </div>
        <div class="form-group">
            <label for="id_password2">Confirm Password</label>
            <input type="password" name="password2" id="id_password2" required>
        </div>
        <button type="submit">Sign Up</button>
        <div id="password-error" style="color:red; display:none; margin-top:10px;">
            Passwords do not match.
        </div>
    </form>
</div>

<script>
document.getElementById('signupForm').addEventListener('submit', function(e) {
    var pw1 = document.getElementById('id_password1').value;
    var pw2 = document.getElementById('id_password2').value;
    var errorDiv = document.getElementById('password-error');
    if (pw1 !== pw2) {
        e.preventDefault();
        errorDiv.style.display = 'block';
    } else {
        errorDiv.style.display = 'none';
    }
});
</script>

{% endblock %}